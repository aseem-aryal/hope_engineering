<?php
/* 
 * Generated by CRUDigniter v1.3 Beta 
 * www.crudigniter.com
 */
 
class Update_detail_model extends CI_Model
{
    function __construct()
    {
        parent::__construct();
    }
    
    /*
     * get general_details by general_details_id
     */
    function get_bill_book_status($general_details_id)
    {
	$bill_book_status=$this->db->get_where('bill_book',array('general_details_id'=>$general_details_id))->num_rows();
        return $bill_book_status;
    }

    function get_driving_licence_status($general_details_id)
    {
        $driving_licence_status=$this->db->get_where('driving_licence',array('general_details_id'=>$general_details_id))->num_rows();
	return $driving_licence_status;
    }
    
    function get_policy_paper_status($general_details_id)	
    {
	    $policy_paper_status=$this->db->get_where('policy_paper',array('general_details_id'=>$general_details_id))->num_rows();    
	    return $policy_paper_status;     
    }
    
    function get_route_permit_status($general_details_id)
    {
	$route_permit_status=$this->db->get_where('route_permit',array('general_details_id'=>$general_details_id))->num_rows();
        return $route_permit_status;
    }

   function get_fitness_certificate_status($general_details_id)
    {
	$fitness_certificate_status=$this->db->get_where('fitness_certificate',array('general_details_id'=>$general_details_id))->num_rows();
        return $fitness_certificate_status;
    }

    function get_bill_od_status($general_details_id)
    {
	$bill_od_status=$this->db->get_where('bill_od',array('general_details_id'=>$general_details_id))->num_rows();
        return $bill_od_status;
    }

    function get_bill_tp_status($general_details_id)
    {
	$bill_tp_status=$this->db->get_where('bill_tp',array('general_details_id'=>$general_details_id))->num_rows();
        return $bill_tp_status;
    }

    function get_quotation_status($general_details_id)
    {
	$route_permit_status=$this->db->where('route_permit',array('general_details_id'=>$general_details_id))->num_rows();
        return $route_permit_status;
    }

   function get_claim_form_status($general_details_id)
    {
	$fitness_certificate_status=$this->db->get_where('fitness_certificate',array('general_details_id'=>$general_details_id))->num_rows();
        return $fitness_certificate_status;
    }

    function get_police_report_status($general_details_id)
    {
	$bill_od_status=$this->db->get_where('bill_od',array('general_details_id'=>$general_details_id))->num_rows();
        return $bill_od_status;
    }
/* For Reference Number*/
    function get_reference_number_status($general_details_id)
    {
	$bill_tp_status=$this->db->get_where('bill_tp',array('general_details_id'=>$general_details_id))->num_rows();
        return $bill_tp_status;
    }


function get_remarks($general_details_id)
    {
	$this->db->select('*');
 	$this->db->from('general_details_remarks');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
    }

function get_update_table($general_details_id){
	$this->db->select('*');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return json_encode($query->result());
}

/*
function get_assigned_user($general_details_id){
	$this->db->select('assign_user');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_assigned_user_date($general_details_id){
	$this->db->select('assign_date');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_assigned_user_site($general_details_id){
	$this->db->select('site');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_case_priority($general_details_id){
	$this->db->select('case_priority');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_prioritize_from_date($general_details_id){
	$this->db->select('prioritize_from_date');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_prioritize_to_date($general_details_id){
	$this->db->select('prioritize_to_date');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}


function get_update_status($general_details_id){
	$this->db->select('update_status');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

function get_consent_date($general_details_id){
	$this->db->select('consent_date');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}


function get_date_of_submission($general_details_id){
	$this->db->select('submission');
 	$this->db->from('update_general_details');
	$this->db->where('general_details_id',$general_details_id);
	$query = $this->db->get();
 	return $query->result();
}

*/








    /*
     * function to update general_details
     */
    function update_general_details($general_details_id,$params)
    {
        $this->db->where('general_details_id',$general_details_id);
        $this->db->update('update_general_details',$params);
	return;
    }
    
    function update_remarks($params)
    {
        $this->db->insert('general_details_remarks',$params);
	return;    
}
}
